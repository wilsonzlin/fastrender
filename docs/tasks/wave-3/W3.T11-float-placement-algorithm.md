---
task_id: "W3.T11"
title: "Implement Float Placement Algorithm"
wave: 3
estimated_hours: 8-10
depends_on:
  - "W3.T10"
inputs:
  - "docs/tasks/notes/W3.T10-notes.md"
outputs:
  - "src/layout/float_placement.rs"
  - "tests/layout/test_float_placement.rs"
  - "docs/tasks/notes/W3.T11-notes.md"
skills_required:
  - "Rust"
  - "CSS float positioning rules"
context_files:
  - "docs/layout/float.md"
verification:
  - "cargo test layout::float_placement"
---

# Implement Float Placement Algorithm

## Context

Float placement determines WHERE a float box should be positioned based on CSS float positioning rules - as high as possible, as far left/right as possible, without overlapping other floats.

CSS 2.1 Section 9.5.1 defines 8 rules for float positioning. This task implements the complete algorithm.

## Implementation

```rust
pub fn place_float(
    float_box: &BoxNode,
    container_rect: Rect,
    float_context: &FloatContext,
    float_type: Float,
) -> Rect {
    // Rule 1: Top edge below preceding block
    // Rule 2: Left/right edge inside container
    // Rule 3: Left float's left edge left of right float's left edge
    // Rule 4-8: Additional positioning rules
}
```

## Testing

Tests (20+):
- Single floats
- Multiple floats stacking
- Float interaction
- All 8 positioning rules
- Edge cases

Time: 8-10 hours
