---
task_id: "W4.T02"
title: "Implement Script Itemizer"
wave: 4
estimated_hours: 6-8
depends_on:
  - "W1.R03"
inputs:
  - "outputs/notes/W1.R03-notes.md"
outputs:
  - "src/text/script.rs"
  - "tests/text/test_script.rs"
  - "outputs/notes/W4.T02-notes.md"
skills_required:
  - "Rust"
  - "Unicode script properties"
context_files:
  - "docs/plan/03-text-shaping.md"
verification:
  - "cargo test text::script"
---

# Implement Script Itemizer

## Context

Text shaping requires splitting text by script (Latin, Arabic, Devanagari, etc.). Use `unicode-script` crate.

## Implementation

```rust
use unicode_script::{Script, UnicodeScript};

pub fn itemize_scripts(text: &str) -> Vec<ScriptRun> {
    let mut runs = Vec::new();
    // Group consecutive chars of same script
}

pub struct ScriptRun {
    pub start: usize,
    pub end: usize,
    pub script: Script,
}
```

## Testing

Tests (15+):
- Single script
- Mixed scripts
- Common/inherited chars
- Emoji handling

Time: 6-8 hours
