From ef5f21e5d4dce1ea3a2dff09d19f3cedf87e3613 Mon Sep 17 00:00:00 2001
From: Wilson Lin <code@wilsonl.in>
Date: Wed, 17 Dec 2025 15:03:02 -0500
Subject: [PATCH 17/18] Assert decoration color/thickness and drop unused vars

---
 tests/display_list_renderer_test.rs | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/tests/display_list_renderer_test.rs b/tests/display_list_renderer_test.rs
index 3ceada0..536b96b 100644
--- a/tests/display_list_renderer_test.rs
+++ b/tests/display_list_renderer_test.rs
@@ -350,7 +350,6 @@ fn text_decoration_segments_offset_by_line_start() {
 #[test]
 fn text_decoration_currentcolor_resolves_in_display_list() {
     // Ensure currentColor on text decorations resolves against the text color when emitting display list items.
-    let mut list = DisplayList::new();
     let mut style = fastrender::ComputedStyle::default();
     style.color = Rgba::rgb(10, 20, 30);
     style.text_decoration.lines = fastrender::style::types::TextDecorationLine::UNDERLINE;
@@ -376,6 +375,10 @@ fn text_decoration_currentcolor_resolves_in_display_list() {
         .and_then(|d| d.underline.as_ref())
         .expect("underline present");
 
+    // currentColor should resolve to the text color with the specified thickness
+    assert_eq!(deco.decorations.first().unwrap().color, Rgba::rgb(10, 20, 30));
+    assert_eq!(underline.thickness, 2.0);
+
     let pixmap = DisplayListRenderer::new(30, 20, Rgba::WHITE, FontContext::new())
         .unwrap()
         .render(&list)
-- 
2.43.0

